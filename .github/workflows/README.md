# GitHub Actions Workflows

–≠—Ç–æ—Ç –∫–∞—Ç–∞–ª–æ–≥ —Å–æ–¥–µ—Ä–∂–∏—Ç GitHub Actions workflows –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏ CI/CD –ø—Ä–æ—Ü–µ—Å—Å–∞ –ø—Ä–æ–µ–∫—Ç–∞ Sing-Box Launcher.

## –î–æ—Å—Ç—É–ø–Ω—ã–µ Workflows

### 1. `ci.yml` - –û—Å–Ω–æ–≤–Ω–æ–π CI/CD Pipeline

**–¢—Ä–∏–≥–≥–µ—Ä—ã:**
- Push –≤ –≤–µ—Ç–∫–∏ `main`, `master`, `develop`
- Pull Requests –≤ —ç—Ç–∏ –≤–µ—Ç–∫–∏
- –°–æ–∑–¥–∞–Ω–∏–µ Release –Ω–∞ GitHub
- –†—É—á–Ω–æ–π –∑–∞–ø—É—Å–∫ —á–µ—Ä–µ–∑ `workflow_dispatch`

**–ß—Ç–æ –¥–µ–ª–∞–µ—Ç:**
1. **Test Job**: –ó–∞–ø—É—Å–∫–∞–µ—Ç —Ç–µ—Å—Ç—ã –Ω–∞ –≤—Å–µ—Ö –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞—Ö (Linux, macOS, Windows)
2. **Build Job**: –°–æ–±–∏—Ä–∞–µ—Ç –±–∏–Ω–∞—Ä–Ω–∏–∫–∏ –¥–ª—è macOS –∏ Windows –ø–æ—Å–ª–µ —É—Å–ø–µ—à–Ω—ã—Ö —Ç–µ—Å—Ç–æ–≤
3. **Release Job**: –°–æ–∑–¥–∞–µ—Ç —Ä–µ–ª–∏–∑ —Å –∞—Ä—Ç–µ—Ñ–∞–∫—Ç–∞–º–∏ –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ Release –Ω–∞ GitHub

**–ê—Ä—Ç–µ—Ñ–∞–∫—Ç—ã:**
- `singbox-launcher-macos-universal.zip` - macOS –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ (Universal Binary)
- `singbox-launcher-windows-amd64.exe` - Windows –∏—Å–ø–æ–ª–Ω—è–µ–º—ã–π —Ñ–∞–π–ª

**‚ö†Ô∏è Linux Support:**
Linux —Å–±–æ—Ä–∫–∞ –≤—Ä–µ–º–µ–Ω–Ω–æ –æ—Ç–∫–ª—é—á–µ–Ω–∞ - –∏—â–µ–º —Ç–µ—Å—Ç–∏—Ä–æ–≤—â–∏–∫–∞ –¥–ª—è —Ä—É—á–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –ø–µ—Ä–µ–¥ –≤–∫–ª—é—á–µ–Ω–∏–µ–º –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π —Å–±–æ—Ä–∫–∏. –¢–µ—Å—Ç—ã –¥–ª—è Linux –ø—Ä–æ–¥–æ–ª–∂–∞—é—Ç –∑–∞–ø—É—Å–∫–∞—Ç—å—Å—è, –Ω–æ —Å–±–æ—Ä–∫–∞ –Ω–µ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è.

### 2. `build-only.yml` - –†—É—á–Ω–∞—è —Å–±–æ—Ä–∫–∞

**–¢—Ä–∏–≥–≥–µ—Ä:** –¢–æ–ª—å–∫–æ —Ä—É—á–Ω–æ–π –∑–∞–ø—É—Å–∫ —á–µ—Ä–µ–∑ `workflow_dispatch`

**–ß—Ç–æ –¥–µ–ª–∞–µ—Ç:**
- –ü–æ–∑–≤–æ–ª—è–µ—Ç —Å–æ–±—Ä–∞—Ç—å –ø—Ä–æ–µ–∫—Ç –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã –±–µ–∑ –∑–∞–ø—É—Å–∫–∞ —Ç–µ—Å—Ç–æ–≤
- –ü–æ–ª–µ–∑–Ω–æ –¥–ª—è –±—ã—Å—Ç—Ä–æ–π —Å–±–æ—Ä–∫–∏ –∏–ª–∏ –æ—Ç–ª–∞–¥–∫–∏ –ø—Ä–æ–±–ª–µ–º —Å–±–æ—Ä–∫–∏

**–û–ø—Ü–∏–∏:**
- `all` - —Å–æ–±—Ä–∞—Ç—å –¥–ª—è –≤—Å–µ—Ö –ø–ª–∞—Ç—Ñ–æ—Ä–º (macOS –∏ Windows)
- `macos` - —Ç–æ–ª—å–∫–æ macOS
- `windows` - —Ç–æ–ª—å–∫–æ Windows

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** Linux —Å–±–æ—Ä–∫–∞ –≤—Ä–µ–º–µ–Ω–Ω–æ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∞ - –∏—â–µ–º —Ç–µ—Å—Ç–∏—Ä–æ–≤—â–∏–∫–∞.

## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Ä–∞–±–æ—Ç–∞

Workflow `ci.yml` –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏:
- Push –∫–æ–¥–∞ –≤ –æ—Å–Ω–æ–≤–Ω—É—é –≤–µ—Ç–∫—É
- –°–æ–∑–¥–∞–Ω–∏–∏ Pull Request
- –°–æ–∑–¥–∞–Ω–∏–∏ Release –Ω–∞ GitHub

### –°–æ–∑–¥–∞–Ω–∏–µ —Ä–µ–ª–∏–∑–∞

**–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–π —Å–ø–æ—Å–æ–± (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π):**

–ü—Ä–æ—Å—Ç–æ —Å–æ–∑–¥–∞–π—Ç–µ –∏ –∑–∞–ø—É—à—å—Ç–µ —Ç–µ–≥ - —Ä–µ–ª–∏–∑ —Å–æ–∑–¥–∞—Å—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å –≥–æ—Ç–æ–≤—ã–º —Ç–µ–∫—Å—Ç–æ–º –∏ –∞—Ä—Ç–µ—Ñ–∞–∫—Ç–∞–º–∏:

```bash
git tag -a v0.5.1 -m "Release v0.5.1"
git push origin v0.5.1
```

–ü–æ—Å–ª–µ push —Ç–µ–≥–∞:
- ‚úÖ Workflow –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–±–µ—Ä–µ—Ç –±–∏–Ω–∞—Ä–Ω–∏–∫–∏ –¥–ª—è macOS –∏ Windows
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞—Å—Ç Release –Ω–∞ GitHub
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏–∫—Ä–µ–ø–∏—Ç –≤—Å–µ –∞—Ä—Ç–µ—Ñ–∞–∫—Ç—ã
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞—Å—Ç –æ–ø–∏—Å–∞–Ω–∏–µ —Ä–µ–ª–∏–∑–∞ —Å —Ç–µ–∫—Å—Ç–æ–º –∏–∑ workflow (–≤–µ—Ä—Å–∏—è, —Å–ø–∏—Å–æ–∫ —Ñ–∞–π–ª–æ–≤, –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ Linux)

**–¢–µ–∫—Å—Ç –æ–ø–∏—Å–∞–Ω–∏—è —Ä–µ–ª–∏–∑–∞ —Å–æ–∑–¥–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏** –∏–∑ —à–∞–±–ª–æ–Ω–∞ –≤ workflow –∏ –≤–∫–ª—é—á–∞–µ—Ç:
- –ó–∞–≥–æ–ª–æ–≤–æ–∫ —Å –≤–µ—Ä—Å–∏–µ–π
- –°–ø–∏—Å–æ–∫ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤ –¥–ª—è —Å–∫–∞—á–∏–≤–∞–Ω–∏—è
- –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ Linux (—á—Ç–æ —Å–±–æ—Ä–∫–∞ –≤—Ä–µ–º–µ–Ω–Ω–æ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∞)
- –°—Å—ã–ª–∫—É –Ω–∞ checksums.txt

**–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π —Å–ø–æ—Å–æ–± (—Ä—É—á–Ω–æ–π —á–µ—Ä–µ–∑ GitHub UI):**

–ï—Å–ª–∏ –≤—ã —Å–æ–∑–¥–∞–µ—Ç–µ —Ä–µ–ª–∏–∑ –≤—Ä—É—á–Ω—É—é —á–µ—Ä–µ–∑ GitHub UI, workflow –≤—Å–µ —Ä–∞–≤–Ω–æ —Å–æ–±–µ—Ä–µ—Ç –∏ –ø—Ä–∏–∫—Ä–µ–ø–∏—Ç –∞—Ä—Ç–µ—Ñ–∞–∫—Ç—ã, –Ω–æ –æ–ø–∏—Å–∞–Ω–∏–µ –Ω—É–∂–Ω–æ –±—É–¥–µ—Ç –Ω–∞–ø–∏—Å–∞—Ç—å –≤—Ä—É—á–Ω—É—é.

### –†—É—á–Ω–æ–π –∑–∞–ø—É—Å–∫

1. –û—Ç–∫—Ä–æ–π—Ç–µ –≤–∫–ª–∞–¥–∫—É "Actions" –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏
2. –í—ã–±–µ—Ä–∏—Ç–µ –Ω—É–∂–Ω—ã–π workflow
3. –ù–∞–∂–º–∏—Ç–µ "Run workflow"
4. –í—ã–±–µ—Ä–∏—Ç–µ –≤–µ—Ç–∫—É –∏ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã (–¥–ª—è `build-only.yml`)

## –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

### CGO

–ü—Ä–æ–µ–∫—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç CGO, –ø–æ—ç—Ç–æ–º—É —Ç—Ä–µ–±—É—é—Ç—Å—è –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä—ã C:
- **Linux**: `gcc`, `libgl1-mesa-dev`, `xorg-dev`, `libgtk-3-dev`
- **macOS**: Xcode Command Line Tools (—É–∂–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –≤ runner)
- **Windows**: MinGW-w64 (—É–∂–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –≤ runner)

–í—Å–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤ workflow.

## –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

- ‚úÖ –ó–µ–ª–µ–Ω—ã–π –∑–Ω–∞—á–æ–∫ = —É—Å–ø–µ—à–Ω–æ
- ‚ùå –ö—Ä–∞—Å–Ω—ã–π –∑–Ω–∞—á–æ–∫ = –æ—à–∏–±–∫–∞ (–ø—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏)
- üü° –ñ–µ–ª—Ç—ã–π –∑–Ω–∞—á–æ–∫ = –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è

## –ê—Ä—Ç–µ—Ñ–∞–∫—Ç—ã

–ê—Ä—Ç–µ—Ñ–∞–∫—Ç—ã —Ö—Ä–∞–Ω—è—Ç—Å—è:
- –í workflow runs: 30 –¥–Ω–µ–π
- –í —Ä–µ–ª–∏–∑–∞—Ö: –ø–æ—Å—Ç–æ—è–Ω–Ω–æ

–°–∫–∞—á–∞—Ç—å –∞—Ä—Ç–µ—Ñ–∞–∫—Ç—ã –º–æ–∂–Ω–æ:
- –í —Å–µ–∫—Ü–∏–∏ "Artifacts" –∫–∞–∂–¥–æ–≥–æ workflow run
- –í —Å–µ–∫—Ü–∏–∏ "Assets" –∫–∞–∂–¥–æ–≥–æ Release

