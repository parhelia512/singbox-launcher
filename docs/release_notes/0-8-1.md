# What's New from 0.8.0

## Version 0.8.1 Release Notes

<details>
<summary><b>üá∑üá∫ –†—É—Å—Å–∫–∞—è –≤–µ—Ä—Å–∏—è / Russian Version</b></summary>

## ‚ú® –û—Å–Ω–æ–≤–Ω–æ–µ

- **TUN –Ω–∞ macOS (–ø—Ä–∏–≤–∏–ª–µ–≥–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∑–∞–ø—É—Å–∫)** ‚Äî RunWithPrivileges –¥–ª—è TUN –±–µ–∑ –ø–æ–ª–Ω—ã—Ö –ø—Ä–∞–≤ –∞–¥–º–∏–Ω–∞; –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π PID sing-box –∏ –æ—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø–æ –≥—Ä—É–ø–ø–µ –ø—Ä–æ—Ü–µ—Å—Å–æ–≤; –ø—Ä–∏–≤–∏–ª–µ–≥–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Å—Ç–∞—Ä—Ç —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –Ω–∞–ª–∏—á–∏–∏ TUN –≤ –∫–æ–Ω—Ñ–∏–≥–µ (ConfigHasTun); –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ AuthorizationRef; –ø—Ä–∏–≤–∏–ª–µ–≥–∏—Ä–æ–≤–∞–Ω–Ω—ã–π kill –≤ –¥–∏–∞–ª–æ–≥–µ ¬´—É–∂–µ –∑–∞–ø—É—â–µ–Ω¬ª; –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–∞—Ä—Å–∏–Ω–≥–∞ –∫–æ–Ω—Ñ–∏–≥–∞ –∏ —Å–æ—Å—Ç–æ—è–Ω–∏—è –≤–∏–∑–∞—Ä–¥–∞.
- **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ** ‚Äî –∫–æ–Ω—Ñ–∏–≥ –±–æ–ª—å—à–µ –Ω–µ –ø–æ—Ä—Ç–∏—Ç—Å—è –ø–æ—Å–ª–µ ¬´–û–±–Ω–æ–≤–∏—Ç—å¬ª –∏–ª–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –ø–æ —Ç–∞–π–º–µ—Ä—É ([#31](https://github.com/Leadaxe/singbox-launcher/issues/31)): —É–±—Ä–∞–Ω–∞ –¥–≤–æ–π–Ω–∞—è –∑–∞–ø—è—Ç–∞—è –≤ —Å–µ–∫—Ü–∏–∏ outbounds (trailing comma –ø–∞—Ä—Å–µ—Ä–∞ + –∑–∞–ø—è—Ç–∞—è –≤–∏–∑–∞—Ä–¥–∞ –ø–æ—Å–ª–µ @ParserEND); –æ–¥–Ω–∞ –∑–∞–ø—è—Ç–∞—è —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –Ω–∞–ª–∏—á–∏–∏ –æ–±–æ–∏—Ö –±–ª–æ–∫–æ–≤ (–¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π –∏ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π).
- **–†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥** ‚Äî –ø–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ `core/config/generator.go` ‚Üí `outbound_generator.go`, `ui/wizard/business/generator.go` ‚Üí `create_config.go`; —É–ø—Ä–æ—â—ë–Ω–Ω–∞—è —Å–±–æ—Ä–∫–∞ outbounds (–¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ –º–µ–∂–¥—É –º–∞—Ä–∫–µ—Ä–∞–º–∏ –∏ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ, –∑–∞–ø—è—Ç–∞—è —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –æ–±–æ–∏—Ö –±–ª–æ–∫–∞—Ö); –æ–±–Ω–æ–≤–ª–µ–Ω—ã —É–ø–æ–º–∏–Ω–∞–Ω–∏—è –∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è. **outbound_generator.go:** —É–¥–∞–ª—ë–Ω –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–π `GenerateSelector`; —Ç—Ä–∏ –ø—Ä–æ—Ö–æ–¥–∞ –≤—ã–Ω–µ—Å–µ–Ω—ã –≤ `buildOutboundsInfo`, `computeOutboundValidity`, `generateSelectorJSONs`; –¥–æ–±–∞–≤–ª–µ–Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –≤ –Ω–∞—á–∞–ª–µ —Ñ–∞–π–ª–∞ –∏ –∫ —Ñ—É–Ω–∫—Ü–∏—è–º.
- **–®–∞–±–ª–æ–Ω / URL get_free** ‚Äî –æ–±—â–∞—è —Ñ—É–Ω–∫—Ü–∏—è `GetMyBranch()` –¥–ª—è —à–∞–±–ª–æ–Ω–∞ –∏ get_free.json; –≤–∏–∑–∞—Ä–¥ –±–µ—Ä—ë—Ç –≤–µ—Ç–∫—É develop –ø—Ä–∏ —Å—É—Ñ—Ñ–∏–∫—Å–µ –≤–µ—Ä—Å–∏–∏, –∏–Ω–∞—á–µ main.
- **–£—Å—Ç–∞–Ω–æ–≤—â–∏–∫ macOS** ‚Äî –∞–≤—Ç–æ-–±—ç–∫–∞–ø –ø–∞–ø–∫–∏ wizard_states; —É–ª—É—á—à–µ–Ω–∏—è —Å–∫—Ä–∏–ø—Ç–∞ —É—Å—Ç–∞–Ω–æ–≤–∫–∏.
- **–°–∫—Ä–∏–ø—Ç—ã** ‚Äî —É—á—ë—Ç —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –∑–∞–≥—Ä—É–∑–æ–∫ –∏ —Å–∫—Ä–∏–ø—Ç; –±–ª–æ–∫ ¬´–ø–æ—Å–ª–µ–¥–Ω–∏–π —Ä–µ–ª–∏–∑¬ª, —Ç–æ–ø-3 —Å –º–µ–¥–∞–ª—è–º–∏.
- **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è** ‚Äî –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –æ—Ç—á—ë—Ç–∞ MACOS_TUN (ConfigHasTun, —Å–µ–∫—Ü–∏—è TUN –≤ –≤–∏–∑–∞—Ä–¥–µ); –∫–æ–Ω—Ü–µ–ø—Ü–∏—è —Ç–µ–ª–µ–º–µ—Ç—Ä–∏–∏ (TELEMETRY_CONCEPT.md).
- **CI** ‚Äî –†—É—á–Ω–∞—è —Å–±–æ—Ä–∫–∞/–ø—Ä–µ—Ä–µ–ª–∏–∑: `target` ‚Äî —Å—Ç—Ä–æ–∫–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä `macOS Win64`); –ø—É—Å—Ç–æ = –≤—Å–µ. –û–¥–∏–Ω job `build` —Ä–∞–∑–Ω–µ—Å—ë–Ω –Ω–∞ `build-darwin`, `build-windows`, `build-win7`; –∫–∞–∂–¥—ã–π –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –ø—Ä–∏ —Ç–µ–≥–µ `v*` –∏–ª–∏ –ø—Ä–∏ –ø—É—Å—Ç–æ–º/—Å–æ–¥–µ—Ä–∂–∞—â–µ–º –∏–º—è `target` (macOS, Win64, Win7). Release –∑–∞–≤–∏—Å–∏—Ç –æ—Ç –≤—Å–µ—Ö —Ç—Ä—ë—Ö (meta —É—Å–ø–µ—à–µ–Ω, –∫–∞–∂–¥—ã–π build success/skipped, ‚â•1 —É—Å–ø–µ—à–µ–Ω). –ü—Ä–µ—Ä–µ–ª–∏–∑: –≤–µ—Ä—Å–∏—è/—Ç–µ–≥ `vX.Y.Z-N-g<sha>-prerelease` –∏–∑ `git describe`; –≤ —Å–∫—Ä–∏–ø—Ç–∞—Ö `--exclude='*-prerelease'`; —Ç–µ–≥–∏ `v.dev.*` —É–¥–∞–ª–µ–Ω—ã; `ci.yml` –≤ UTF-8. –í body —Ä–µ–ª–∏–∑–∞: –ø–æ–¥–ø–∏—Å—å —É—Å—Ç–∞–Ω–æ–≤–∫–∏ —Å –≤–µ—Ä—Å–∏–µ–π; –≤ –±–ª–æ–∫–µ –∫–æ–¥–∞ –æ–¥–Ω–∞ –∫–æ–º–∞–Ω–¥–∞ `curl ... | bash -s -- <version>`.
- **–°–±–æ—Ä–∫–∞ (macOS)** ‚Äî –í `build_darwin.sh`: –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è `APP_VERSION`; `git describe --tags --always --dirty`; fallback `unnamed-dev` –ø—Ä–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏ —Ç–µ–≥–∞.

</details>

<details>
<summary><b>üá¨üáß English Version</b></summary>

## ‚ú® Highlights

- **macOS TUN (privileged launch)** ‚Äî RunWithPrivileges for TUN when running without full admin; correct sing-box PID and process-group stop; privileged start only when config has TUN (ConfigHasTun); reuse AuthorizationRef; privileged kill in "already running" dialog; fixes for config parse and wizard state.
- **Fix** ‚Äî Config no longer corrupted after "Update" or timer refresh ([#31](https://github.com/Leadaxe/singbox-launcher/issues/31)): removed double comma in outbounds section (parser trailing comma + wizard comma after @ParserEND); single comma only when both dynamic and static blocks exist.
- **Refactoring** ‚Äî `core/config/generator.go` ‚Üí `outbound_generator.go`, `ui/wizard/business/generator.go` ‚Üí `create_config.go`; simplified outbounds assembly (dynamic between @ParserSTART/@ParserEND + static, comma only when both present); all references and docs updated. **outbound_generator.go:** removed dead `GenerateSelector`; extracted three-pass logic into `buildOutboundsInfo`, `computeOutboundValidity`, `generateSelectorJSONs`; file-level and function-level documentation.
- **Template / get_free URL** ‚Äî common `GetMyBranch()` for template and get_free.json; wizard uses develop branch when version has suffix, else main.
- **macOS installer** ‚Äî auto-backup of wizard_states folder; installation script improvements.
- **Scripts** ‚Äî download statistics tracking and script; latest release section, top 3 with medals.
- **Docs** ‚Äî MACOS_TUN report updates (ConfigHasTun, wizard TUN section); telemetry concept (TELEMETRY_CONCEPT.md).
- **CI** ‚Äî Manual build/prerelease: `target` is a string (e.g. `macOS Win64`); empty = all. Single `build` job split into `build-darwin`, `build-windows`, `build-win7`; each runs on tag `v*` or when `target` is empty/contains name (macOS, Win64, Win7). Release depends on all three (meta success, each build success/skipped, ‚â•1 success). Prerelease: version/tag `vX.Y.Z-N-g<sha>-prerelease` from `git describe`; scripts use `--exclude='*-prerelease'`; legacy `v.dev.*` removed; `ci.yml` UTF-8. Release body: install caption with version; code block has single `curl ... | bash -s -- <version>`.
- **Build (macOS)** ‚Äî `build_darwin.sh`: `APP_VERSION` env var; `git describe --tags --always --dirty`; fallback `unnamed-dev` when no tag.

</details>
