# –ê–Ω–∞–ª–∏–∑ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞ –≤–∏–∑–∞—Ä–¥–∞: –æ–ø—Ä–∞–≤–¥–∞–Ω –ª–∏ —Ä–æ—Å—Ç –∫–æ–¥–∞?

## üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏–∑–º–µ–Ω–µ–Ω–∏–π

### –†–µ–∞–ª—å–Ω—ã–µ —Ü–∏—Ñ—Ä—ã –∏–∑ git diff:
```
16 —Ñ–∞–π–ª–æ–≤ –∏–∑–º–µ–Ω–µ–Ω–æ
+1024 —Å—Ç—Ä–æ–∫ –¥–æ–±–∞–≤–ª–µ–Ω–æ
-1577 —Å—Ç—Ä–æ–∫ —É–¥–∞–ª–µ–Ω–æ
–ß–∏—Å—Ç–æ–µ –∏–∑–º–µ–Ω–µ–Ω–∏–µ: -553 —Å—Ç—Ä–æ–∫–∏ (—É–º–µ–Ω—å—à–µ–Ω–∏–µ!)
```

### –ß—Ç–æ –±—ã–ª–æ —É–¥–∞–ª–µ–Ω–æ:
- `ui/wizard/state/state.go` - **619 —Å—Ç—Ä–æ–∫** (—É–¥–∞–ª–µ–Ω –ø–æ–ª–Ω–æ—Å—Ç—å—é)
- `ui/wizard/state/helpers.go` - **51 —Å—Ç—Ä–æ–∫–∞** (—É–¥–∞–ª–µ–Ω –ø–æ–ª–Ω–æ—Å—Ç—å—é)
- –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö —Ñ–∞–π–ª–æ–≤ - **~907 —Å—Ç—Ä–æ–∫ –ø–µ—Ä–µ–ø–∏—Å–∞–Ω–æ/—É–¥–∞–ª–µ–Ω–æ**

### –ß—Ç–æ –±—ã–ª–æ —Å–æ–∑–¥–∞–Ω–æ:

#### –ù–æ–≤—ã–µ —Ñ–∞–π–ª—ã:
1. **models/** (179 —Å—Ç—Ä–æ–∫):
   - `wizard_model.go` - 76 —Å—Ç—Ä–æ–∫
   - `rule_state.go` - 40 —Å—Ç—Ä–æ–∫
   - `rule_state_utils.go` - 36 —Å—Ç—Ä–æ–∫
   - `constants.go` - 27 —Å—Ç—Ä–æ–∫

2. **presentation/** (952 —Å—Ç—Ä–æ–∫–∏):
   - `gui_state.go` - 71 —Å—Ç—Ä–æ–∫–∞
   - `presenter.go` - 62 —Å—Ç—Ä–æ–∫–∏
   - `presenter_async.go` - 143 —Å—Ç—Ä–æ–∫–∏
   - `presenter_sync.go` - 53 —Å—Ç—Ä–æ–∫–∏
   - `presenter_methods.go` - 255 —Å—Ç—Ä–æ–∫
   - `presenter_save.go` - 137 —Å—Ç—Ä–æ–∫
   - `presenter_rules.go` - 60 —Å—Ç—Ä–æ–∫
   - `presenter_ui_updater.go` - 149 —Å—Ç—Ä–æ–∫
   - `utils.go` - 22 —Å—Ç—Ä–æ–∫–∏

3. **business/** (–Ω–æ–≤—ã–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã):
   - `config_service.go` - –∞–¥–∞–ø—Ç–µ—Ä –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
   - `outbound.go` - —Ñ—É–Ω–∫—Ü–∏–∏ —Ä–∞–±–æ—Ç—ã —Å outbounds
   - `saver.go` - —Ñ—É–Ω–∫—Ü–∏–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è
   - `template_loader.go` - –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –∑–∞–≥—Ä—É–∑—á–∏–∫–∞
   - `ui_updater.go` - –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è UI

**–ò—Ç–æ–≥–æ –Ω–æ–≤—ã—Ö —Ñ–∞–π–ª–æ–≤: ~1100+ —Å—Ç—Ä–æ–∫ (–Ω–æ —ç—Ç–æ –ø–µ—Ä–µ—Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ –∫–æ–¥–∞)**

## üîç –ê–Ω–∞–ª–∏–∑: –æ–ø—Ä–∞–≤–¥–∞–Ω–æ –ª–∏ —ç—Ç–æ?

### ‚ùå –ß—Ç–æ –ù–ï –æ–ø—Ä–∞–≤–¥–∞–Ω–æ:

1. **–ò–∑–±—ã—Ç–æ—á–Ω–∞—è –¥–µ–∫–æ–º–ø–æ–∑–∏—Ü–∏—è –º–µ—Ç–æ–¥–æ–≤ –ø—Ä–µ–∑–µ–Ω—Ç–µ—Ä–∞**
   - 8 —Ñ–∞–π–ª–æ–≤ –≤ `presentation/` –¥–ª—è –æ–¥–Ω–æ–≥–æ –ø—Ä–µ–∑–µ–Ω—Ç–µ—Ä–∞
   - `presenter_methods.go` (255 —Å—Ç—Ä–æ–∫) - –º–æ–∂–Ω–æ –±—ã–ª–æ –æ—Å—Ç–∞–≤–∏—Ç—å –≤ `presenter.go`
   - `presenter_rules.go` (60 —Å—Ç—Ä–æ–∫) - —Å–ª–∏—à–∫–æ–º –º–∞–ª–æ –¥–ª—è –æ—Ç–¥–µ–ª—å–Ω–æ–≥–æ —Ñ–∞–π–ª–∞
   - `presenter_sync.go` (53 —Å—Ç—Ä–æ–∫–∏) - –º–æ–∂–Ω–æ –±—ã–ª–æ –æ–±—ä–µ–¥–∏–Ω–∏—Ç—å

2. **–î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –ª–æ–≥–∏–∫–∏**
   - –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã `UIUpdater`, `ConfigService`, `TemplateLoader` - –≤–æ–∑–º–æ–∂–Ω–æ –∏–∑–±—ã—Ç–æ—á–Ω—ã –¥–ª—è —Ç–µ–∫—É—â–µ–≥–æ –º–∞—Å—à—Ç–∞–±–∞
   - –ê–¥–∞–ø—Ç–µ—Ä—ã –¥–æ–±–∞–≤–ª—è—é—Ç —Å–ª–æ–π –∞–±—Å—Ç—Ä–∞–∫—Ü–∏–∏, –∫–æ—Ç–æ—Ä—ã–π –º–æ–∂–µ—Ç –±—ã—Ç—å –ø—Ä–µ–∂–¥–µ–≤—Ä–µ–º–µ–Ω–Ω—ã–º

3. **–ú–µ–ª–∫–∏–µ —Ñ–∞–π–ª—ã –∫–æ–Ω—Å—Ç–∞–Ω—Ç/—É—Ç–∏–ª–∏—Ç**
   - `models/constants.go` (27 —Å—Ç—Ä–æ–∫) - –º–æ–∂–Ω–æ –±—ã–ª–æ –≤ `models/wizard_model.go`
   - `presentation/utils.go` (22 —Å—Ç—Ä–æ–∫–∏) - –º–æ–∂–Ω–æ –±—ã–ª–æ –≤ `presenter.go`

### ‚úÖ –ß—Ç–æ –æ–ø—Ä–∞–≤–¥–∞–Ω–æ:

1. **–†–∞–∑–¥–µ–ª–µ–Ω–∏–µ Model / View / Presenter**
   - `WizardModel` –æ—Ç–¥–µ–ª—å–Ω–æ –æ—Ç GUI - –ø—Ä–∞–≤–∏–ª—å–Ω–æ
   - `GUIState` –æ—Ç–¥–µ–ª—å–Ω–æ –æ—Ç –±–∏–∑–Ω–µ—Å-–¥–∞–Ω–Ω—ã—Ö - –ø—Ä–∞–≤–∏–ª—å–Ω–æ
   - –ü—Ä–µ–∑–µ–Ω—Ç–µ—Ä –∫–∞–∫ —Å–≤—è–∑—É—é—â–µ–µ –∑–≤–µ–Ω–æ - –ø—Ä–∞–≤–∏–ª—å–Ω–æ

2. **–†–∞–∑–¥–µ–ª–µ–Ω–∏–µ business –ª–æ–≥–∏–∫–∏**
   - `parser.go`, `generator.go`, `loader.go`, `saver.go` - –æ–ø—Ä–∞–≤–¥–∞–Ω–æ
   - –í–∞–ª–∏–¥–∞—Ü–∏—è –æ—Ç–¥–µ–ª—å–Ω–æ - –æ–ø—Ä–∞–≤–¥–∞–Ω–æ
   - –§—É–Ω–∫—Ü–∏–∏ —Ä–∞–±–æ—Ç–∞—é—Ç —Å –º–æ–¥–µ–ª—å—é, –Ω–µ —Å GUI - –ø—Ä–∞–≤–∏–ª—å–Ω–æ

3. **–ß–∏—Å—Ç—ã–µ –¥–∞–Ω–Ω—ã–µ –≤ models**
   - `RuleState` –±–µ–∑ –≤–∏–¥–∂–µ—Ç–æ–≤ - –ø—Ä–∞–≤–∏–ª—å–Ω–æ
   - –ö–æ–Ω—Å—Ç–∞–Ω—Ç—ã –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∏ –≤ models - –ø—Ä–∞–≤–∏–ª—å–Ω–æ

## üí° –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏

### –ú–æ–∂–Ω–æ –æ–±—ä–µ–¥–∏–Ω–∏—Ç—å:

1. **presentation/** ‚Üí —É–º–µ–Ω—å—à–∏—Ç—å —Å 9 –¥–æ 4-5 —Ñ–∞–π–ª–æ–≤:
   ```
   presenter.go          (–æ—Å–Ω–æ–≤–Ω–æ–π —Ñ–∞–π–ª + –º–µ—Ç–æ–¥—ã —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è UI)
   presenter_sync.go     (—Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è) 
   presenter_async.go    (–∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏)
   presenter_save.go     (—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ)
   gui_state.go          (GUIState)
   ```

   –û–±—ä–µ–¥–∏–Ω–∏—Ç—å:
   - `presenter_methods.go` ‚Üí –≤ `presenter.go`
   - `presenter_rules.go` ‚Üí –≤ `presenter.go`
   - `presenter_ui_updater.go` ‚Üí –≤ `presenter.go`
   - `utils.go` ‚Üí –≤ `presenter.go`

2. **models/** ‚Üí —É–º–µ–Ω—å—à–∏—Ç—å —Å 4 –¥–æ 2-3 —Ñ–∞–π–ª–æ–≤:
   ```
   wizard_model.go       (–æ—Å–Ω–æ–≤–Ω–∞—è –º–æ–¥–µ–ª—å)
   rule_state.go         (RuleState + —É—Ç–∏–ª–∏—Ç—ã)
   constants.go          (–∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã) –∏–ª–∏ –≤ wizard_model.go
   ```

3. **business/** ‚Üí –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç—å –≤—Å–µ—Ö –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤:
   - –û—Å—Ç–∞–≤–∏—Ç—å —Ç–æ–ª—å–∫–æ –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ –Ω—É–∂–Ω—ã–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã
   - –ê–¥–∞–ø—Ç–µ—Ä—ã —É–±—Ä–∞—Ç—å, –µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –æ–¥–Ω–∞ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è

### –ò—Ç–æ–≥–æ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ (–±–æ–ª–µ–µ —Ä–∞–∑—É–º–Ω–∞—è):

```
ui/wizard/
‚îú‚îÄ‚îÄ models/
‚îÇ   ‚îú‚îÄ‚îÄ wizard_model.go    (~100 —Å—Ç—Ä–æ–∫)
‚îÇ   ‚îú‚îÄ‚îÄ rule_state.go      (~80 —Å—Ç—Ä–æ–∫ —Å —É—Ç–∏–ª–∏—Ç–∞–º–∏)
‚îÇ   ‚îî‚îÄ‚îÄ constants.go       (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
‚îÇ
‚îú‚îÄ‚îÄ business/
‚îÇ   ‚îú‚îÄ‚îÄ parser.go          (—Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π)
‚îÇ   ‚îú‚îÄ‚îÄ generator.go       (—Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π)
‚îÇ   ‚îú‚îÄ‚îÄ loader.go          (—Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π)
‚îÇ   ‚îú‚îÄ‚îÄ saver.go           (—Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π)
‚îÇ   ‚îú‚îÄ‚îÄ validator.go       (—Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π)
‚îÇ   ‚îú‚îÄ‚îÄ outbound.go        (—Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π)
‚îÇ   ‚îî‚îÄ‚îÄ ui_updater.go      (—Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ –Ω—É–∂–µ–Ω –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å)
‚îÇ
‚îú‚îÄ‚îÄ presentation/
‚îÇ   ‚îú‚îÄ‚îÄ presenter.go       (~400 —Å—Ç—Ä–æ–∫ - –æ—Å–Ω–æ–≤–Ω–æ–π + –º–µ—Ç–æ–¥—ã UI)
‚îÇ   ‚îú‚îÄ‚îÄ presenter_sync.go  (—Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è)
‚îÇ   ‚îú‚îÄ‚îÄ presenter_async.go (–∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏)
‚îÇ   ‚îú‚îÄ‚îÄ presenter_save.go  (—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ)
‚îÇ   ‚îî‚îÄ‚îÄ gui_state.go       (GUIState)
‚îÇ
‚îú‚îÄ‚îÄ tabs/                  (–±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π)
‚îú‚îÄ‚îÄ dialogs/               (–±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π)
‚îî‚îÄ‚îÄ wizard.go              (–±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π)
```

**–û—Ü–µ–Ω–∫–∞ –ø–æ—Å–ª–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏: ~800 —Å—Ç—Ä–æ–∫ –≤–º–µ—Å—Ç–æ 1100+**

## üìà –í—ã–≤–æ–¥—ã

### –û–±—â–∏–π –≤–µ—Ä–¥–∏–∫—Ç: **–ß–∞—Å—Ç–∏—á–Ω–æ –æ–ø—Ä–∞–≤–¥–∞–Ω–æ, –Ω–æ –∏–∑–±—ã—Ç–æ—á–Ω–æ –¥–µ–∫–æ–º–ø–æ–∑–∏—Ä–æ–≤–∞–Ω–æ**

**–ü–ª—é—Å—ã —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞:**
- ‚úÖ –ß–µ—Ç–∫–æ–µ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏ (MVP –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞)
- ‚úÖ –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ –±–µ–∑ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –æ—Ç GUI
- ‚úÖ –¢–µ—Å—Ç–∏—Ä—É–µ–º–æ—Å—Ç—å –∫–æ–¥–∞ —É–ª—É—á—à–µ–Ω–∞
- ‚úÖ –ß–∏—Å—Ç–æ–µ —É–º–µ–Ω—å—à–µ–Ω–∏–µ –∫–æ–¥–∞ (-553 —Å—Ç—Ä–æ–∫–∏ –≤ –∏—Ç–æ–≥–µ)

**–ú–∏–Ω—É—Å—ã:**
- ‚ùå –°–ª–∏—à–∫–æ–º –º–Ω–æ–≥–æ –º–µ–ª–∫–∏—Ö —Ñ–∞–π–ª–æ–≤ (–∏–∑–±—ã—Ç–æ—á–Ω–∞—è –¥–µ–∫–æ–º–ø–æ–∑–∏—Ü–∏—è)
- ‚ùå –ß–∞—Å—Ç—å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤ –º–æ–∂–µ—Ç –±—ã—Ç—å –ø—Ä–µ–∂–¥–µ–≤—Ä–µ–º–µ–Ω–Ω–æ–π –∞–±—Å—Ç—Ä–∞–∫—Ü–∏–µ–π
- ‚ùå –ù–µ–∫–æ—Ç–æ—Ä—ã–µ —Ñ–∞–π–ª—ã —Å–ª–∏—à–∫–æ–º –º–∞–ª–µ–Ω—å–∫–∏–µ –¥–ª—è –æ—Ç–¥–µ–ª—å–Ω–æ–≥–æ —Ñ–∞–π–ª–∞

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:**
1. –û–±—ä–µ–¥–∏–Ω–∏—Ç—å –º–µ–ª–∫–∏–µ —Ñ–∞–π–ª—ã –ø—Ä–µ–∑–µ–Ω—Ç–µ—Ä–∞ (–º–æ–∂–Ω–æ —É–º–µ–Ω—å—à–∏—Ç—å presentation/ —Å 9 –¥–æ 4-5 —Ñ–∞–π–ª–æ–≤)
2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç—å –≤—Å–µ—Ö –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤ –≤ business/
3. –û—Å—Ç–∞–≤–∏—Ç—å –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É MVP (—ç—Ç–æ –ø—Ä–∞–≤–∏–ª—å–Ω–æ), –Ω–æ —É–ø—Ä–æ—Å—Ç–∏—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É —Ñ–∞–π–ª–æ–≤

**–ò—Ç–æ–≥:** –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ, –Ω–æ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –∏–∑–±—ã—Ç–æ—á–Ω–æ –¥–µ–∫–æ–º–ø–æ–∑–∏—Ä–æ–≤–∞–Ω–∞. –ú–æ–∂–Ω–æ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å, –æ–±—ä–µ–¥–∏–Ω–∏–≤ –º–µ–ª–∫–∏–µ —Ñ–∞–π–ª—ã, –±–µ–∑ –ø–æ—Ç–µ—Ä–∏ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã—Ö –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤.

