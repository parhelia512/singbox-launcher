# –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–∞—Ä—Å–µ—Ä–∞ singbox-launcher

## –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ

–ü–∞—Ä—Å–µ—Ä –æ–±–Ω–æ–≤–ª—è–µ—Ç —Ñ–∞–π–ª `bin/config.json`, –∑–∞–≥—Ä—É–∂–∞—è –ø–æ–¥–ø–∏—Å–∫–∏ VLESS/VMess/Trojan/Shadowsocks, —Ñ–∏–ª—å—Ç—Ä—É—è –∏ –≥—Ä—É–ø–ø–∏—Ä—É—è –∏—Ö –≤ —Å–µ–ª–µ–∫—Ç–æ—Ä—ã. –†–µ–∑—É–ª—å—Ç–∞—Ç –∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç—Å—è –≤ —Å–µ–∫—Ü–∏—é –º–µ–∂–¥—É –º–∞—Ä–∫–µ—Ä–∞–º–∏ `/** @ParserSTART */` –∏ `/** @ParserEND */`.

## –§–æ—Ä–º–∞—Ç –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

–í —Ñ–∞–π–ª–µ `bin/config.json` –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –±–ª–æ–∫ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è `/** @ParcerConfig ... */`, –≤–Ω—É—Ç—Ä–∏ –∫–æ—Ç–æ—Ä–æ–≥–æ —Ä–∞–∑–º–µ—â–∞–µ—Ç—Å—è JSON —Å–ª–µ–¥—É—é—â–µ–π —Å—Ç—Ä—É–∫—Ç—É—Ä—ã:

```json
{
  "version": 1,
  "ParserConfig": {
    "proxies": [
      {
        "source": "https://...",
        "connections": [
          "vless://uuid@server.com:443?security=reality&...#ServerName"
        ],
        "skip": [ { "tag": "!/üá∑üá∫/i" } ]
      }
    ],
    "outbounds": [
      {
        "tag": "proxy-out",
        "type": "selector",
        "options": { "interrupt_exist_connections": true },
        "outbounds": {
          "include": [ { "tag": "!/(üá∑üá∫|üá∫üá∏)/i" } ],
          "addOutbounds": ["direct-out"],
          "preferredDefault": { "tag": "/üá≥üá±/i" }
        },
        "comment": "Proxy group for international connections"
      }
    ]
  }
}
```

### –ü–æ–ª–µ `proxies`

| –ü–æ–ª–µ          | –¢–∏–ø      | –û–ø–∏—Å–∞–Ω–∏–µ |
|---------------|----------|----------|
| `source`      | string   | URL VLESS/VMess/Trojan/Shadowsocks –ø–æ–¥–ø–∏—Å–∫–∏. –î–æ–ø—É—Å–∫–∞—é—Ç—Å—è Base64 –∏ plain-—Ç–µ–∫—Å—Ç. |
| `connections` | array    | –ù–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π –º–∞—Å—Å–∏–≤ –ø—Ä—è–º—ã—Ö —Å—Å—ã–ª–æ–∫ (vless://, vmess://, trojan://, ss://). –ú–æ–∂–Ω–æ –∫–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞—Ç—å —Å –ø–æ–¥–ø–∏—Å–∫–∞–º–∏. |
| `skip`        | array    | –ù–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π —Å–ø–∏—Å–æ–∫ —Ñ–∏–ª—å—Ç—Ä–æ–≤. –ï—Å–ª–∏ —Ö–æ—Ç—è –±—ã –æ–¥–∏–Ω —Å–æ–≤–ø–∞–ª ‚Äî —É–∑–µ–ª –ø—Ä–æ–ø—É—Å–∫–∞–µ—Ç—Å—è. |

#### –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ –∫–ª—é—á–∏ —Ñ–∏–ª—å—Ç—Ä–æ–≤
- `tag` ‚Äî –∏–º—è —Ç–µ–≥–∞ (—Å —É—á—ë—Ç–æ–º —Ä–µ–≥–∏—Å—Ç—Ä–∞ –∏ —ç–º–æ–¥–∑–∏)
- `host` ‚Äî hostname —É–∑–ª–∞
- `label` ‚Äî –∏—Å—Ö–æ–¥–Ω–∞—è —Å—Ç—Ä–æ–∫–∞ –ø–æ—Å–ª–µ `#`
- `scheme` ‚Äî —Å—Ö–µ–º–∞ (`vless`, `vmess`, `trojan`, `ss`)
- `fragment` ‚Äî URI —Ñ—Ä–∞–≥–º–µ–Ω—Ç (—Ä–∞–≤–µ–Ω `label`)
- `comment` ‚Äî –ø—Ä–∞–≤–∞—è —á–∞—Å—Ç—å `label` –ø–æ—Å–ª–µ `|`

#### –§–æ—Ä–º–∞—Ç `pattern`
- `"literal"` ‚Äî –ø–æ–¥—Å—Ç—Ä–æ—á–Ω–æ–µ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ, —É—á–∏—Ç—ã–≤–∞–µ—Ç —Ä–µ–≥–∏—Å—Ç—Ä
- `"!literal"` ‚Äî –æ—Ç—Ä–∏—Ü–∞–Ω–∏–µ
- `"/regex/i"` ‚Äî —Ä–µ–≥—ç–∫—Å–ø —Å —Ñ–ª–∞–≥–æ–º `i`
- `"!/regex/i"` ‚Äî –æ—Ç—Ä–∏—Ü–∞–Ω–∏–µ —Ä–µ–≥—ç–∫—Å–ø–∞

### –†–∞–∑–±–æ—Ä —É–∑–ª–æ–≤
–ü–∞—Ä—Å–µ—Ä –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç `vless`, `vmess`, `trojan`, `ss`. –¢–µ–≥ –±–µ—Ä—ë—Ç—Å—è –∏–∑ –ª–µ–≤–æ–π —á–∞—Å—Ç–∏ `label` (–¥–æ `|`), –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π ‚Äî –≤–µ—Å—å `label`. –ù–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π —Ñ–ª–∞–≥ `üá™üá≥` –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–º–µ–Ω—è–µ—Ç—Å—è –Ω–∞ `üá¨üáß`.

### –°–µ–∫—Ü–∏—è `outbounds`
–ö–∞–∂–¥—ã–π –æ–±—ä–µ–∫—Ç –æ–ø–∏—Å—ã–≤–∞–µ—Ç —Å–µ–ª–µ–∫—Ç–æ—Ä.

| –ü–æ–ª–µ      | –û–ø–∏—Å–∞–Ω–∏–µ |
|-----------|----------|
| `tag`     | –ò–º—è —Å–µ–ª–µ–∫—Ç–æ—Ä–∞. –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è UI Clash —Ç–∞–±–∞. |
| `type`    | –¢–∏–ø (`selector`). |
| `options` | –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è, –¥–æ–±–∞–≤–ª—è—é—Ç—Å—è –∫–∞–∫ –≤–µ—Ä—Ö–Ω–µ—É—Ä–æ–≤–Ω–µ–≤—ã–µ –∫–ª—é—á–∏ –≤ —Ä–µ–∑—É–ª—å—Ç–∞—Ç. |
| `comment` | –ù–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π, –≤—ã–≤–æ–¥–∏—Ç—Å—è –ø–µ—Ä–µ–¥ JSON —Å–µ–ª–µ–∫—Ç–æ—Ä–∞. |
| `outbounds.include` | **–£—Å—Ç–∞—Ä–µ–ª–æ.** –õ–æ–≥–∏–∫–∞ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∞ –≤ `proxies`. –û—Å—Ç–∞–≤—å—Ç–µ –º–∞—Å—Å–∏–≤ –ø—É—Å—Ç—ã–º. |
| `outbounds.proxies` | –ì–ª–∞–≤–Ω—ã–π —Ñ–∏–ª—å—Ç—Ä. OR –º–µ–∂–¥—É –æ–±—ä–µ–∫—Ç–∞–º–∏; –≤–Ω—É—Ç—Ä–∏ –æ–±—ä–µ–∫—Ç–∞ ‚Äî AND –º–µ–∂–¥—É –∫–ª—é—á–∞–º–∏. |
| `outbounds.addOutbounds` | –°—Ç—Ä–æ–∫–∏, –∫–æ—Ç–æ—Ä—ã–µ –¥–æ–±–∞–≤–ª—è—é—Ç—Å—è –≤ –Ω–∞—á–∞–ª–æ –∏—Ç–æ–≥–æ–≤–æ–≥–æ —Å–ø–∏—Å–∫–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä `direct-out`). |
| `outbounds.preferredDefault` | –ü–µ—Ä–≤—ã–π —Ç–µ–≥, —Å–æ–≤–ø–∞–≤—à–∏–π —Å —Ñ–∏–ª—å—Ç—Ä–æ–º, —Å—Ç–∞–Ω–µ—Ç `default`. |

### –ú–∞—Ä–∫–µ—Ä–Ω–∞—è —Å–µ–∫—Ü–∏—è –≤ `config.json`
–ü–∞—Ä—Å–µ—Ä –ø–µ—Ä–µ–∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç –±–ª–æ–∫ –º–µ–∂–¥—É `/** @ParserSTART */` –∏ `/** @ParserEND */`. –ü—Ä–∏–º–µ—Ä —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞:

```
/** @ParserSTART */
    // üá≥üá±–ù–∏–¥–µ—Ä–ª–∞–Ω–¥—ã
    {"tag":"üá≥üá±–ù–∏–¥–µ—Ä–ª–∞–Ω–¥—ã","type":"vless",...},

    // Proxy group for international connections
    {"tag":"proxy-out","type":"selector","outbounds":["direct-out", ...],"default":"üá≥üá±–ù–∏–¥–µ—Ä–ª–∞–Ω–¥—ã","interrupt_exist_connections":true},
/** @ParserEND */
```

–ö–∞–∂–¥–∞—è —Å—Ç—Ä–æ–∫–∞ –∑–∞–∫–∞–Ω—á–∏–≤–∞–µ—Ç—Å—è –∑–∞–ø—è—Ç–æ–π, —á—Ç–æ–±—ã –ø–æ—Å–ª–µ –±–ª–æ–∫–∞ –º–æ–∂–Ω–æ –±—ã–ª–æ —Ä–∞–∑–º–µ—Å—Ç–∏—Ç—å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –æ–±—ä–µ–∫—Ç—ã (`direct-out`).

## –ü—Ä–æ—Ü–µ—Å—Å –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
1. –í UI –Ω–∞–∂–∞—Ç—å –∫–Ω–æ–ø–∫—É Parser/Update –∏–ª–∏ –≤—ã–∑–≤–∞—Ç—å `core.UpdateConfigFromSubscriptions`.
2. –ü–∞—Ä—Å–µ—Ä —á–∏—Ç–∞–µ—Ç `@ParcerConfig`, —Å–∫–∞—á–∏–≤–∞–µ—Ç –≤—Å–µ `proxies[i].source`, –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –ø—Ä—è–º—ã–µ —Å—Å—ã–ª–∫–∏ –∏–∑ `proxies[i].connections`, –ø–∞—Ä—Å–∏—Ç —É–∑–ª—ã.
3. –ü—Ä–∏–º–µ–Ω—è—é—Ç—Å—è —Ñ–∏–ª—å—Ç—Ä—ã `skip`, `include`, `proxies`.
4. –£–∑–ª—ã —Å–µ—Ä–∏–∞–ª–∏–∑—É—é—Ç—Å—è –≤ JSON (VLESS/VMess/Trojan/SS), –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –≤—ã–≤–æ–¥—è—Ç—Å—è –∏–∑ `label`.
5. –°–µ–ª–µ–∫—Ç–æ—Ä—ã —Å–æ–∑–¥–∞—é—Ç—Å—è —Å–æ–≥–ª–∞—Å–Ω–æ `outbounds`, –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –±–µ—Ä—É—Ç—Å—è –∏–∑ –ø–æ–ª—è `comment`. –ü–æ—Ä—è–¥–æ–∫ –ø–æ–ª–µ–π —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω (`tag`, `type`, `outbounds`, `default`, `interrupt_exist_connections`, –æ—Å—Ç–∞–ª—å–Ω—ã–µ).
6. –ë–ª–æ–∫ –º–µ–∂–¥—É –º–∞—Ä–∫–µ—Ä–∞–º–∏ –∑–∞–º–µ–Ω—è–µ—Ç—Å—è –Ω–∞ –Ω–æ–≤—ã–π –∫–æ–Ω—Ç–µ–Ω—Ç.

## –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ –∏ —Å–æ–≤–µ—Ç—ã
- –°–Ω–∞—á–∞–ª–∞ –æ—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ `sing-box`, –∑–∞—Ç–µ–º –æ–±–Ω–æ–≤–ª—è–π—Ç–µ –∫–æ–Ω—Ñ–∏–≥ ‚Äî Clash API –º–æ–∂–µ—Ç –æ—Ç—Ä–µ–∞–≥–∏—Ä–æ–≤–∞—Ç—å –Ω–∞ –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—ã–π —Ñ–∞–π–ª.
- –ï—Å–ª–∏ –≤ –ø–æ–¥–ø–∏—Å–∫–µ —Å—Ç—Ä–∞–Ω–Ω—ã–µ —Ñ–ª–∞–≥–∏, –º–æ–∂–Ω–æ —Ä–∞—Å—à–∏—Ä—è—Ç—å `normalizeFlagTag` –≤ `core/parser.go`.
- UI ‚ÄúClash API‚Äù –ø–æ–¥—Ö–≤–∞—Ç—ã–≤–∞–µ—Ç —Å–ø–∏—Å–æ–∫ —Å–µ–ª–µ–∫—Ç–æ—Ä–æ–≤ –∏–∑ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏. –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é –≤—ã–±—Ä–∞–Ω —Å–µ–ª–µ–∫—Ç–æ—Ä –∏–∑ `route.rules[].final` (–µ—Å–ª–∏ –∑–Ω–∞—á–µ–Ω–∏–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –∏ —Å–æ–≤–ø–∞–¥–∞–µ—Ç —Å —Ç–µ–≥–æ–º). –ï—Å–ª–∏ `final` –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –∏–ª–∏ –Ω–µ —Å–æ–≤–ø–∞–¥–∞–µ—Ç ‚Äî –≤—ã–±–∏—Ä–∞–µ—Ç—Å—è –ø–µ—Ä–≤—ã–π —Å–µ–ª–µ–∫—Ç–æ—Ä –∏–∑ —Å–ø–∏—Å–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏; –ø–µ—Ä–µ–∫–ª—é—á–∏—Ç—å –º–æ–∂–Ω–æ —á–µ—Ä–µ–∑ –≤—ã–ø–∞–¥–∞—é—â–∏–π —Å–ø–∏—Å–æ–∫.
- –ü—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ –Ω–æ–≤—ã—Ö –ø–æ–ª–µ–π –≤ `