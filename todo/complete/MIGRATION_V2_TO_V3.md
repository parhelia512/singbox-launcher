# –ú–∏–≥—Ä–∞—Ü–∏—è —Å –≤–µ—Ä—Å–∏–∏ 2 –Ω–∞ –≤–µ—Ä—Å–∏—é 3

## –û–±–∑–æ—Ä –∏–∑–º–µ–Ω–µ–Ω–∏–π

–í–µ—Ä—Å–∏—è 3 —É–ø—Ä–æ—â–∞–µ—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä—É –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –ø–∞—Ä—Å–µ—Ä–∞, —É–±–∏—Ä–∞—è –≤–ª–æ–∂–µ–Ω–Ω—ã–π –æ–±—ä–µ–∫—Ç `outbounds` –∏ –ø–µ—Ä–µ–∏–º–µ–Ω–æ–≤—ã–≤–∞—è –ø–æ–ª–µ `proxies` –≤ –±–æ–ª–µ–µ –ø–æ–Ω—è—Ç–Ω–æ–µ `filters`.

## –ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ —Å—Ç—Ä—É–∫—Ç—É—Ä–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

### –í–µ—Ä—Å–∏—è –∫–æ–Ω—Ñ–∏–≥–∞

–ò–∑–º–µ–Ω–∏—Ç–µ –≤–µ—Ä—Å–∏—é –≤ `@ParserConfig`:
```json
{
  "ParserConfig": {
    "version": 3  // –ë—ã–ª–æ: 2
  }
}
```

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ outbounds

**–ë–´–õ–û (–≤–µ—Ä—Å–∏—è 2):**
```json
{
  "tag": "proxy-out",
  "type": "selector",
  "options": { "interrupt_exist_connections": true },
  "outbounds": {
    "proxies": { "tag": "!/(üá∑üá∫)/i" },
    "addOutbounds": ["direct-out"],
    "preferredDefault": { "tag": "/üá≥üá±/i" }
  },
  "comment": "Proxy group for international connections"
}
```

**–°–¢–ê–õ–û (–≤–µ—Ä—Å–∏—è 3):**
```json
{
  "tag": "proxy-out",
  "type": "selector",
  "options": { "interrupt_exist_connections": true },
  "filters": { "tag": "!/(üá∑üá∫)/i" },
  "addOutbounds": ["direct-out"],
  "preferredDefault": { "tag": "/üá≥üá±/i" },
  "comment": "Proxy group for international connections"
}
```

## –ò–∑–º–µ–Ω–µ–Ω–∏—è:

1. **–£–¥–∞–ª–µ–Ω –≤–ª–æ–∂–µ–Ω–Ω—ã–π –æ–±—ä–µ–∫—Ç `outbounds`** - –ø–æ–ª—è –≤—ã–Ω–µ—Å–µ–Ω—ã –Ω–∞ –≤–µ—Ä—Ö–Ω–∏–π —É—Ä–æ–≤–µ–Ω—å
2. **–ü–æ–ª–µ `proxies` –ø–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞–Ω–æ –≤ `filters`** - –±–æ–ª–µ–µ –ø–æ–Ω—è—Ç–Ω–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ, –æ—Ç—Ä–∞–∂–∞—é—â–µ–µ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ
3. **–ü–æ–ª—è `addOutbounds` –∏ `preferredDefault` –≤—ã–Ω–µ—Å–µ–Ω—ã –Ω–∞ –≤–µ—Ä—Ö–Ω–∏–π —É—Ä–æ–≤–µ–Ω—å** - —É–ø—Ä–æ—â–µ–Ω–∏–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã

## –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –º–∏–≥—Ä–∞—Ü–∏—è

–ü–∞—Ä—Å–µ—Ä **–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –º–∏–≥—Ä–∏—Ä—É–µ—Ç** –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é –≤–µ—Ä—Å–∏–∏ 2 –≤ –≤–µ—Ä—Å–∏—é 3 –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—É—Å–∫–µ. –í–∞–º –Ω–µ –Ω—É–∂–Ω–æ –≤—Ä—É—á–Ω—É—é –∏–∑–º–µ–Ω—è—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é - –ø—Ä–æ—Å—Ç–æ –æ–±–Ω–æ–≤–∏—Ç–µ –≤–µ—Ä—Å–∏—é –¥–æ 3, –∏ –ø–∞—Ä—Å–µ—Ä –≤—ã–ø–æ–ª–Ω–∏—Ç –º–∏–≥—Ä–∞—Ü–∏—é –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏.

### –ü—Ä–∏–º–µ—Ä –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –º–∏–≥—Ä–∞—Ü–∏–∏

–ï—Å–ª–∏ —É –≤–∞—Å –µ—Å—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –≤–µ—Ä—Å–∏–∏ 2:
```json
{
  "ParserConfig": {
    "version": 2,
    "outbounds": [
      {
        "tag": "proxy-out",
        "type": "selector",
        "outbounds": {
          "proxies": { "tag": "!/(üá∑üá∫)/i" },
          "addOutbounds": ["direct-out"]
        }
      }
    ]
  }
}
```

–ü–∞—Ä—Å–µ—Ä –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–µ–æ–±—Ä–∞–∑—É–µ—Ç –µ—ë –≤ –≤–µ—Ä—Å–∏—é 3:
```json
{
  "ParserConfig": {
    "version": 3,
    "outbounds": [
      {
        "tag": "proxy-out",
        "type": "selector",
        "filters": { "tag": "!/(üá∑üá∫)/i" },
        "addOutbounds": ["direct-out"]
      }
    ]
  }
}
```

## –û–±—Ä–∞—Ç–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å

- –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –≤–µ—Ä—Å–∏–∏ 2 **–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –º–∏–≥—Ä–∏—Ä—É—é—Ç** –≤ –≤–µ—Ä—Å–∏—é 3
- –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –≤–µ—Ä—Å–∏–∏ 1 —Ç–∞–∫–∂–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç—Å—è –∏ –º–∏–≥—Ä–∏—Ä—É—é—Ç —á–µ—Ä–µ–∑ –≤–µ—Ä—Å–∏—é 2 –≤ –≤–µ—Ä—Å–∏—é 3
- –°—Ç–∞—Ä—ã–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –±—É–¥—É—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π –±–ª–∞–≥–æ–¥–∞—Ä—è —Å–∏—Å—Ç–µ–º–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –º–∏–≥—Ä–∞—Ü–∏–∏

## –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

1. **–û–±–Ω–æ–≤–∏—Ç–µ –≤–µ—Ä—Å–∏—é –≤—Ä—É—á–Ω—É—é** - –∏–∑–º–µ–Ω–∏—Ç–µ `"version": 2` –Ω–∞ `"version": 3` –≤ –≤–∞—à–µ–º `config.json`
2. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–∞–±–æ—Ç—É –ø–∞—Ä—Å–µ—Ä–∞** - –∑–∞–ø—É—Å—Ç–∏—Ç–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –∏ —É–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—Å—ë —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
3. **–û–±–Ω–æ–≤–∏—Ç–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é** - –µ—Å–ª–∏ –≤—ã –≤–µ–¥–µ—Ç–µ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—É—é –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é, –æ–±–Ω–æ–≤–∏—Ç–µ –ø—Ä–∏–º–µ—Ä—ã –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

## –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ï—Å–ª–∏ —É –≤–∞—Å –≤–æ–∑–Ω–∏–∫–ª–∏ –ø—Ä–æ–±–ª–µ–º—ã —Å –º–∏–≥—Ä–∞—Ü–∏–µ–π, –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –ø–∞—Ä—Å–µ—Ä–∞ - —Ç–∞–º –±—É–¥–µ—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø—Ä–æ—Ü–µ—Å—Å–µ –º–∏–≥—Ä–∞—Ü–∏–∏. –í—Å–µ –æ—à–∏–±–∫–∏ –º–∏–≥—Ä–∞—Ü–∏–∏ –ª–æ–≥–∏—Ä—É—é—Ç—Å—è —Å –ø–æ–¥—Ä–æ–±–Ω—ã–º –æ–ø–∏—Å–∞–Ω–∏–µ–º.

